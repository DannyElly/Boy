<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			#list li.even-color {
				background: rgba(225,86,113,.3);
			}
			#list li.hover {
				background: rgba(225,86,113,.5);
				color: #fff;
			}
			#list li.checked {
				background: rgba(225,86,113,.8);
				color: #fff;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="baidu.css" />
	</head>

	<body>
		<div class="wrap">
			<div class="baidu">
				<ul id="list">
					<li>
						<div></div>
						<span>泡沫</span>
						<span>邓紫棋</span>
					</li>
					<li>
						<div></div>
						<span>说爱你</span>
						<span>蔡依林</span>
					</li>
					<li>
						<div></div>
						<span>稻香</span>
						<span>周杰伦</span>
					</li>
					<li>
						<div></div>
						<span>我的梦</span>
						<span>张靓颖</span>
					</li>
					<li>
						<div></div>
						<span>怎么说我不爱你</span>
						<span>萧敬腾</span>
					</li>
					<li>
						<div>️</div>
						<span>无处安放</span>
						<span>白若溪</span>
					</li>
				</ul>
				<div class="select">
					<span class="selectAll"><span>全选</span></span>
					<div class="others">
						<span><em></em>收藏</span>
						<span><em></em>添加</span>
						<span><em></em>删除</span>
					</div>
				</div>
			</div>
		</div>
		<!-- ✔️ -->
		<script>
				/**
				 * 1. 隔行变色
				 * 2. 鼠标的hover效果，但是不影响之前的颜色
				 * 		（如果当前的这项被选中了，hover效果消失）
				 * 3. 鼠标点击 可以选中或者取消选中状态
				 * 4. 当选中所有的项目时，全选按钮自动勾选
				 * 5. 点击全选按钮，可以全部选中或者全部取消选中
				 */
				
				// 模拟的选框，只能对应两种状态，要么是选中的（true），
				// 要么是未被选中的（false）
				
				// 获取所有的元素
				var list = document.querySelectorAll('#list li'),
						checkes = document.querySelectorAll('#list li div');
				var checkeAll = document.querySelector('.selectAll');
				
				// len 全部条目的数量  n 选中一个加1取消一个减1
				var len = list.length, n = 0,
						selectedAll = false,  // 全选按钮的 选中和取消选中的开关
						html_ = checkeAll.innerHTML; // 全选按钮里面的html内容
						
				for(var i=0; i<len; i++){
					// 模拟单选按钮，默认没有选中就是false，如果选中了就变成true
					list[i].checked = false;
					// 因为要控制另外一组div所以添加了索引值
					list[i].index = i;
					// 储存每个li的className，同时隔行变色
					list[i].color = list[i].className = i%2 ? 'even-color' : '';
					// 鼠标移入时候要左的事
					list[i].onmouseover = function (){
						// 如果当前被选中了 那么className就是checked 否则就是 hover
						this.className = this.checked ? 'checked' : 'hover';
					};
					list[i].onmouseout = function (){
						// 如果当前被选中了 那么className就是checked 否则就是之前自身的className
						this.className = this.checked ? 'checked' : this.color;
					};
					// 点击选中当天这条和取消选中当前这条
					list[i].onclick = function (){
						// 如果是没选中，那么就模拟选中，否则就取消选中。
						this.checked = this.checked ? false : true;
						// 如果选中了，那么就打勾，否则就去掉勾
						checkes[this.index].innerHTML = this.checked ? '✔️' : '';
						// 如果选中了 就添加一个className位checked，否则因为鼠标还在
						// 当前这个条目上，应该显示hover效果。
						this.className = this.checked ? 'checked' : 'hover';
						// 选中一个让这个变量n（计数器）+1，否则就-1
						n = this.checked ? ++n : --n;
						// 如果说计数器的值等于总条目了那么就全选打勾，否则去掉勾
						checkeAll.innerHTML = (n == len) ? ('✔️' + html_) : html_;
						// 如果计数器的值等于总条目了，那么让全选按钮的属性变成true，
						// 否则就变成fasle。
						selectedAll = (n == len) ? true : false;
					};
				}
				
				checkeAll.onclick = function (){
					// 如果当前是全选的 那么在点击这个全选按钮的时候这个变量就要变为、
					// 不全选就是false，否则就是true
					selectedAll = selectedAll ? false : true;
					// 通过selectedAll是false或者true来控制所有条目的样式
					isCheckedAll(selectedAll);
				};
				
				function isCheckedAll(checked){
					// 如果是全选那么就给全选打勾，否则不去掉勾
					checkeAll.innerHTML = checked ? ('✔️' + html_) : html_;
					// 如果点击了全选那么 计数器应该是总条目，否则就是0
					n = checked ? len : 0;
					// 批量去修改对应的li的所有的属性
					for(var i=0; i<len; i++){
						// 如果说是全选了，那么就都要加上勾否则都去掉
						checkes[i].innerHTML = checked ? '✔️' : '';
						// 如果说全选，那么对应的这个自定义的勾选属性就要变成true
						// 否则就都变回默认没全选的状态就是false
						list[i].checked = checked ? true : false;
						// 如果说全选了，那么所有的条目都要加上一个全选的className就是
						// checked，否则那么就恢复其自身之前有的className
						list[i].className = checked ? 'checked' : list[i].color;
					}
				}
				
		
		</script>
	</body>

</html>