<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>JavaScript 作用域 09</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="hjla" id="javascript-作用域-09">JavaScript 作用域 09</h1><p data-anchor-id="cb28"><code>JS</code></p><hr><div class="md-section-divider"></div><h2 data-anchor-id="zoxx" id="标识符">标识符</h2><blockquote data-anchor-id="2pt1" class="white-blockquote">
  <p>所谓标识符，就是指变量名、函数名、对象属性名、函数参数名。</p>
</blockquote><p data-anchor-id="b0ap">标志识别的符号。</p><div class="md-section-divider"></div><h2 data-anchor-id="o675" id="作用域的概念">作用域的概念</h2><blockquote data-anchor-id="dm9t" class="white-blockquote">
  <p>作用域就是用来管理标识符可以在哪里被访问的一套规则。</p>
</blockquote><ul data-anchor-id="dv83">
<li>全局作用域：在全局内声明的函数之外的部分。</li>
<li>函数作用域：函数内部的范围。</li>
</ul><p data-anchor-id="z4nv">浏览器的JS引擎在运行JS代码之前，会经过2个步骤（无论是全局作用域还是函数作用域）：</p><ol data-anchor-id="shbg">
<li>将所有的标识符提升</li>
<li>逐行执行代码</li>
</ol><p data-anchor-id="dskg">例如下面这个例子：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="js6q"><ol class="linenums"><li class="L0"><code><span class="com">// 可以想象成 var a; 先被放到这里了。</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">alert</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span><span class="pln">  </span><span class="com">// 只是提升标识符，而不会赋值。 所以这里弹出 undefined </span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="dg4o" id="作用域链">作用域链</h2><blockquote data-anchor-id="0rv6" class="white-blockquote">
  <p>作用域链规定了，当作用域嵌套时候标识符的访问规则。它的规则是，函数作用域优先使用自身作用域的标识符，如果没有找到就去上一级去找，直到找到全局作用域，如果全局作用域还没有，那么就会抛出一个引用错误。同时还规定了，外面的作用域无法访问函数内的作用域。</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="jmk9"><ol class="linenums"><li class="L0"><code><span class="tag">&lt;script&gt;</span></code></li><li class="L1"><code><span class="pln">    </span><span class="com">// 全局作用域</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="com">/*var a = 10;</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="com">    function fn(){</span></code></li><li class="L6"><code><span class="com">      // 函数作用域</span></code></li><li class="L7"><code><span class="com">      alert(a);</span></code></li><li class="L8"><code><span class="com">    }</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="com">    fn();*/</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">    </span><span class="com">/*function fn1(){</span></code></li><li class="L3"><code><span class="com">      var a = 1;</span></code></li><li class="L4"><code><span class="com">    }</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="com">    alert(a);*/</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="com">/*var a = 1;</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="com">    function fn(){</span></code></li><li class="L1"><code><span class="com">      // var b;</span></code></li><li class="L2"><code><span class="com">      // function fn1(){....}</span></code></li><li class="L3"><code><span class="com">      var b = 2;</span></code></li><li class="L4"><code><span class="com">      function fn1(){</span></code></li><li class="L5"><code><span class="com">        // var c;</span></code></li><li class="L6"><code><span class="com">        var c = 3;</span></code></li><li class="L7"><code><span class="com">        alert(b);  // 2</span></code></li><li class="L8"><code><span class="com">        alert(a);  // 1</span></code></li><li class="L9"><code><span class="com">      }</span></code></li><li class="L0"><code><span class="com">      fn1();</span></code></li><li class="L1"><code><span class="com">    }*/</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="com">//fn();</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">    </span><span class="com">/*alert(b)</span></code></li><li class="L6"><code><span class="com">    alert(c);*/</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="com">// var fn3;</span></code></li><li class="L9"><code><span class="pln">    </span><span class="com">//</span></code></li><li class="L0"><code><span class="pln">    </span><span class="com">/*alert(abc);</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="com">    fn3();</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="com">    var fn3 = function (){</span></code></li><li class="L5"><code><span class="com">      alert(1);</span></code></li><li class="L6"><code><span class="com">    };*/</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="kwd">function</span><span class="pln"> fn1</span><span class="pun">(){</span></code></li><li class="L9"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pln">      fn2</span><span class="pun">();</span></code></li><li class="L1"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">function</span><span class="pln"> fn2</span><span class="pun">(){</span></code></li><li class="L4"><code><span class="pln">      alert</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="pln">    fn1</span><span class="pun">();</span></code></li><li class="L8"><code><span class="pln">  </span><span class="tag">&lt;/script&gt;</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="b456" id="浏览器报错说明">浏览器报错说明</h2><ul data-anchor-id="ri6g">
<li>ReferenceError ： 引用错误，通常指标识符没有找到。</li>
<li>TypeError： 类型错误，通常指对指定了的类型执行了错误的操作，例如一个不是函数的标识，执行了“()”执行操作符。</li>
<li>Tokn： 词法错误，通常是因为写错了 <code>;</code> 和 <code>(</code>。</li>
</ul><hr><p data-anchor-id="4ult"><a href="https://www.zybuluo.com/maxleader/note/635867" target="_blank">本文在线地址</a></p></div>
</body>
</html>